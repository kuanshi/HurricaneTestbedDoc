

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Software Architecture &mdash; Earthquake Engineering with Uncertainty Quantification (EE-UQ)  documentation</title>
  

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/sphinxcontrib-images\LightBox2\lightbox2\css\lightbox.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/sphinxcontrib-images\LightBox2\lightbox2\js\jquery-1.11.0.min.js"></script>
        <script src="../../../../_static/sphinxcontrib-images\LightBox2\lightbox2\js\lightbox.min.js"></script>
        <script src="../../../../_static/sphinxcontrib-images\LightBox2\lightbox2-customize\jquery-noconflict.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
<script src="https://cdn.jsdelivr.net/npm/vega@5.12.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@4.13.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6.8.0"></script>
<style media="screen">.vega-actions a {margin-right: 5px;}</style>
<link href="../../../../_static/css/bootstrap.css" rel="stylesheet">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #F2F2F2" >
          
<a href="https://simcenter.designsafe-ci.org/" style="margin-bottom: 0px;">
  <img src="../../../../_static/img/SimCenter-Only.png" class="logo" alt="Org-Logo" />
</a>
<hr style="margin: 0px;">

  <a href="../../../../index.html">



  
  <img src="../../../../_static/EE-UQ-Logo.png" class="logo" alt="Logo"/>

</a>


  
  



<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../user_manual/about/EEUQ/about.html">1. About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../front-matter/ack.html">2. Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../front-matter/license.html">3. Copyright and License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../front-matter/glossary.html">4. Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../front-matter/abbreviations.html">5. Abbreviations</a></li>
</ul>
<p class="caption"><span class="caption-text">User Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../user_manual/installation/desktop/installation.html">1. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../user_manual/usage/desktop/usage.html">2. User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../user_manual/troubleshooting/desktop/troubleshooting.html">3. Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../user_manual/examples/desktop/examples.html">4. Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../requirements/EEUQ.html">5. Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../user_manual/bugs.html">6. Bugs &amp; Feature Requests</a></li>
</ul>
<p class="caption"><span class="caption-text">Technical Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../technical_manual/desktop/technical_manual.html">1. Technical Manual</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../how_to_build/desktop/how_to_build.html">1. How to Build</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">2. Software Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../how_to_extend/desktop/how_to_extend.html">3. How to Extend</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../verification/desktop/verification.html">4. Verification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../coding_style/desktop/coding_style.html">5. Coding Style</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Earthquake Engineering with Uncertainty Quantification (EE-UQ)</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Software Architecture</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../_sources/common/developer_manual/architecture/desktop/architectureLevel4.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="software-architecture">
<span id="lblarchitecture4"></span><h1>Software Architecture<a class="headerlink" href="#software-architecture" title="Permalink to this headline">¶</a></h1>
<p>The SimCenter is developing a software framework for building scientific workflow applications to perform computational; simulations in field of NHE at both building level scale and regionsl scale. It is releasing a number of applications built using this framework. The EE-UQ app is one of those applications which have been released (EE-UQ, WE-UQ, PBE). Other applications are under development (R2D). The applications that the SimCenter are developing are limited scientific workflow systems. This chapter presents the software architecture for the framework and the EE-UQ app built using it using the C4 model.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p><strong>Workflow</strong>: A sequence of steps involved in moving from a beginning state to an ending state.</p></li>
<li><p><strong>Scientific Workflow Application</strong>: An application that automates a workflow process through software, with each step in the workflow being performed by a separate “scientific” software application.</p></li>
<li><p><strong>Scientific Workflow System</strong>: software providing an infrastructure for the set-up, scheduling, running, and monitoring of a user defined scientific workflow application.</p></li>
</ol>
</div>
<div class="section" id="level-1-a-context-for-simcenter-applications">
<h2>Level 1: A Context for SimCenter Applications<a class="headerlink" href="#level-1-a-context-for-simcenter-applications" title="Permalink to this headline">¶</a></h2>
<p>A Level 1 diagram showing the system context for the SimCenter applications, i.e. how it fits in the world,  is shown in <a class="reference internal" href="c4model.html#figcontext"><span class="std std-numref">Fig. 2.3.1.2</span></a>. It shows SimCenter applications (EE-UQ, WE-UQ, PBE, R2D) as a box in the center surrounded by the user and the systems it and the user interact with. The SimCenter applications allows user to create and run scientific workflow applications, the data for the applications may be obtained from the web or DataDepot, the workflow applications are run on either the local desktop or on some HPC at <a class="reference external" href="https://designsafe-ci.org">DesignSafe</a>.</p>
<div class="align-center figure" id="id1">
<span id="figcontext"></span><img alt="../../../../_images/context.png" src="../../../../_images/context.png" />
<p class="caption"><span class="caption-text">System context diagram for SimCenter Applications.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="level-2-the-components-of-a-simcenter-application">
<h2>Level 2:  The Components of a SimCenter Application<a class="headerlink" href="#level-2-the-components-of-a-simcenter-application" title="Permalink to this headline">¶</a></h2>
<p>Given how SimCenter applications fit in with the environment, a level 2 diagrams now demonstrates how the SimCenter applications are broken into high level components. The SimCenter applications are, as shown in <a class="reference internal" href="c4model.html#figcontainer"><span class="std std-numref">Fig. 2.3.2.2</span></a>, broken into two components: A front end UI and a back end application that runs the workflow. The front end applications are desktop applications written using the cross-platform Qt framework. The back end is an application that processes the input from the front end, which comes in the form of a JSON file, creates a workflow and runs it. The workflow applications, written in Python, C, or C++, utilize existing applications were possible and run on either the local desktop machine or on a HPC utilizing resources made available to NHE community through DeisignSafe.</p>
<div class="align-center figure" id="id2">
<span id="figcontainer"></span><img alt="../../../../_images/container.png" src="../../../../_images/container.png" />
<p class="caption"><span class="caption-text">System container diagram for SimCenter applications.</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="level-3-container-diagrams-for-the-front-and-back-end-components">
<h2>Level 3: Container Diagrams for the Front and Back End Components<a class="headerlink" href="#level-3-container-diagrams-for-the-front-and-back-end-components" title="Permalink to this headline">¶</a></h2>
<p>Two level 3 diagrams are now presented which break up the two containers into the major building blocks or components in C4 terminology. In <a class="reference internal" href="c4model.html#figcomponentfront"><span class="std std-numref">Fig. 2.3.3.2</span></a> the component diagram for the front end UI is presented. It outlines the interaction between the user and the individual graphical elements (widgets) of the UI. Given the analogy of a jigsaw puzzle, the user selects which piece of the jigsaw puzzle they are working on in the component selection widget. The widget for the jigsaw piece will then be displayed on the desktop. The user for each jigsaw piece then selects which application to run for that piece, and for the chosen application, they provide the inputs. When the inputs are all provided, the user can select to run the simulations locally or remotely. For jobs that run remotely, the user can download and review previously run simulations. As seen the widgets may subsequently interact with web services through HTTPS requests, or with DesignSafe utilizing TAPIS Restful API through the RemoteService container.</p>
<div class="align-center figure" id="id3">
<span id="figcomponentfront"></span><img alt="../../../../_images/componentFront.png" src="../../../../_images/componentFront.png" />
<p class="caption"><span class="caption-text">Component diagram for front end UI.</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<p>The component diagram for the backend application shown in <a class="reference internal" href="c4model.html#figcomponentback"><span class="std std-numref">Fig. 2.3.3.3</span></a>, shows that the backend is made up of a number of component, all applications. The application <code class="docutils literal notranslate"><span class="pre">femUQ.py</span></code> is the application that parses the input from the front end, sets up the workflow and launches the UQ engine. Which UQ Engine and which applications to run in the workflow, is determined from the data passed from the UI and information contained in a WorkflowApplication.json file. A file is used to allow the researchers to modify the applications that may be run in the workflow w/o the need to recompile the application. Control is then passed to a UQ Engine, which repeatedly runs the workflow to generate the results. In running the workflow some of the applications will invoke applications not developed to meet the API. For such applications pre- and post-processors are provided.
The figure shows the backend application running locally or remotely on a <a class="reference external" href="mailto:HPC&#37;&#52;&#48;DesignSafe">HPC<span>&#64;</span>DesignSafe</a>.</p>
<div class="align-center figure" id="id4">
<span id="figcomponentback"></span><img alt="../../../../_images/componentBack.png" src="../../../../_images/componentBack.png" />
<p class="caption"><span class="caption-text">Component diagram for the backend application.</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="level-4-uml-diagrams">
<h2>Level 4 UML Diagrams<a class="headerlink" href="#level-4-uml-diagrams" title="Permalink to this headline">¶</a></h2>
<p>A number of diagrams are presented for the level 4 diagrams. These are mostly UML diagrams showing how the applications are built. The SimCenter releases a number of front-end applications: EE-UQ shown in <code class="xref std std-numref docutils literal notranslate"><span class="pre">figUmlEE</span></code>, WE-UQ shown in <code class="xref std std-numref docutils literal notranslate"><span class="pre">figUmlWE</span></code>, and PBE shown in <code class="xref std std-numref docutils literal notranslate"><span class="pre">figUmlPBE</span></code>. These applications share code with each other and other SimCenter applications. As a consequence, the common code is bundled into a number of shared packages: EarthquakeEvents shown in <code class="xref std std-numref docutils literal notranslate"><span class="pre">figUmlEarthquakeEvents</span></code>, WindEvents shown in <code class="xref std std-numref docutils literal notranslate"><span class="pre">figUmlWindEvents</span></code>, and SimCenterCommon shown in <code class="xref std std-numref docutils literal notranslate"><span class="pre">figUmlCommon</span></code>. A number of packages were chosen over placing all common code inside a single package to simplify development efforts for outside programmers (whom it is envisioned will mostly be adding new event components) and to reduce the overhead of package management and compile time for SimCenter programmers. UML diagrams are  presented for these front-end applications and shared packages. THE UML diagrams that are presented are not exhaustive, in that they do not show all classes used, for it was decided not to for example show the myriad of Line edits, labels, spin boxes, etc. that make up the widgets. What is shown is sufficient to present the SimCenter architecture.</p>
<p>While there are a number of different types of UML diagrams,  those shown in this document will be limited to class diagrams and sequence diagrams. SimCenter applications are object-oriented in nature. An object-oriented program consists of objects interacting with one another,  with each object being of a certain type or class. A class diagram shows the classes, their attributes and methods, and the relationships between the classes. A sequence diagram or event diagram shows the order in which objects interact. To understand the SimCenter framework it is useful to first present the main() function for a SImCenter application, in this case EE-UQ, shown in <code class="xref std std-numref docutils literal notranslate"><span class="pre">codeMainCode</span></code>. The code presented is a stripped down version of the actual code, code for dealing with style sheets, analytics, etc. is not shown as it is not pertinent to understanding of the software architecture.</p>
<div class="highlight-default notranslate" id="codemaincode"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">main</span><span class="p">(</span><span class="nb">int</span> <span class="n">argc</span><span class="p">,</span> <span class="n">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span> <span class="p">{</span>

  <span class="n">QApplication</span> <span class="n">app</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">);</span>

 <span class="o">//</span>
 <span class="o">//</span> <span class="n">create</span> <span class="n">a</span> <span class="n">remote</span> <span class="n">interface</span>
 <span class="o">//</span>

 <span class="n">QString</span> <span class="n">tenant</span><span class="p">(</span><span class="s2">&quot;designsafe&quot;</span><span class="p">);</span>
 <span class="n">QString</span> <span class="n">storage</span><span class="p">(</span><span class="s2">&quot;agave://designsafe.storage.default/&quot;</span><span class="p">);</span>
 <span class="n">QString</span> <span class="n">dirName</span><span class="p">(</span><span class="s2">&quot;EE-UQ&quot;</span><span class="p">);</span>

 <span class="o">//</span>
 <span class="o">//</span> <span class="n">create</span> <span class="n">the</span> <span class="n">main</span> <span class="n">window</span>
 <span class="o">//</span>

 <span class="n">WorkflowAppWidget</span> <span class="o">*</span><span class="n">theInputApp</span> <span class="o">=</span> <span class="n">new</span> <span class="n">WorkflowAppEE_UQ</span><span class="p">(</span><span class="n">theRemoteService</span><span class="p">);</span>
 <span class="n">MainWindowWorkflowApp</span> <span class="n">window</span><span class="p">(</span><span class="n">QString</span><span class="p">(</span><span class="s2">&quot;EE-UQ: Response of Building to Earthquake&quot;</span><span class="p">),</span> <span class="n">theInputApp</span><span class="p">,</span> <span class="n">theRemoteService</span><span class="p">);</span>

 <span class="n">windows</span><span class="o">.</span><span class="n">setVersion</span><span class="p">(</span><span class="s2">&quot;Version 1.0.0&quot;</span><span class="p">);</span>


 <span class="o">//</span>
 <span class="o">//</span> <span class="n">move</span> <span class="n">remote</span> <span class="n">interface</span> <span class="n">to</span> <span class="n">a</span> <span class="n">thread</span>
 <span class="o">//</span>

 <span class="n">QThread</span> <span class="o">*</span><span class="n">thread</span> <span class="o">=</span> <span class="n">new</span> <span class="n">QThread</span><span class="p">();</span>
 <span class="n">theRemoteService</span><span class="o">-&gt;</span><span class="n">moveToThread</span><span class="p">(</span><span class="n">thread</span><span class="p">);</span>
 <span class="n">thread</span><span class="o">-&gt;</span><span class="n">start</span><span class="p">();</span>

 <span class="o">//</span>
 <span class="o">//</span> <span class="n">show</span> <span class="n">the</span> <span class="n">main</span> <span class="n">window</span><span class="p">,</span> <span class="nb">set</span> <span class="n">styles</span> <span class="o">&amp;</span> <span class="n">start</span> <span class="n">the</span> <span class="n">event</span> <span class="n">loop</span>
 <span class="o">//</span>

 <span class="n">window</span><span class="o">.</span><span class="n">show</span><span class="p">();</span>
 <span class="nb">int</span> <span class="n">res</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">exec</span><span class="p">();</span>

 <span class="o">//</span>
 <span class="o">//</span> <span class="n">on</span> <span class="n">done</span> <span class="k">with</span> <span class="n">event</span> <span class="n">loop</span><span class="p">,</span> <span class="n">logout</span> <span class="o">&amp;</span> <span class="n">stop</span> <span class="n">the</span> <span class="n">thread</span>
 <span class="o">//</span>

 <span class="n">theRemoteService</span><span class="o">-&gt;</span><span class="n">logout</span><span class="p">();</span>
 <span class="n">thread</span><span class="o">-&gt;</span><span class="n">quit</span><span class="p">();</span>

  <span class="k">return</span> <span class="n">res</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>As was mentioned the Front end UI applications are built using Qt. In a Qt application the programmer creates a QApplication object, in <code class="xref std std-numref docutils literal notranslate"><span class="pre">codeMainCode</span></code> the object named <cite>app</cite> and a QMainWindow, in the example named <cite>window</cite>. As will be shown in <code class="xref std std-numref docutils literal notranslate"><span class="pre">figUmlCommon</span></code>, MainWindowWorkflowApp is a type of QMainWindow that is used in all SimCenter research applications as it deals with all the application menu items, e.g. File open and close, Help cite, etc The QMainWindowWorkflowApp is a SImCenter class that contains a single QWidget of type WorkflowAppWidget. The WorkflowAppWidget object is passed a RemoteService, the remote cloud service that the application will interact with. This RemoteService is placed in it’s own QThread object, so that the UI can respond to user requests while communication with cloud service is underway. Once the window object is shown, control is passed to the QApplication  until the user is done.</p>
<div class="section" id="uml-ee-uq">
<span id="lblumlee"></span><h3>UML EE-UQ<a class="headerlink" href="#uml-ee-uq" title="Permalink to this headline">¶</a></h3>
<p>EE-UQ is an application to determine the response of a building subjected to an earthquake event. As shown in <code class="xref std std-numref docutils literal notranslate"><span class="pre">figumlEE</span></code> it comprises a component selection which presents the user with a a number of components, jigsaw pieces, which include: earthquake event (EarthquakeEventSelection), UQ engine (UQ Selection), demand parameters of inters (EDP Selection), building information model (BIM Selection),  structural analysis model generator (SAM Selection), finite element application (FEM Selection), and RandomVariableContainer.  RandomVariableContainer is a widget allowing user to specify distributions associated with the random variables created by user. As will be seen in <code class="xref std std-numref docutils literal notranslate"><span class="pre">figUmlEarthquakeEvents</span></code> and <code class="xref std std-numref docutils literal notranslate"><span class="pre">figUmlCommon</span></code> each component offers the user a number of applications to choose from for that component. Other classes corresponding to widgets presented in the Front end UI include: UQ Result for displaying the results, Local and Remote Services for running the job locally or remotely, Remote job Manager for monitoring job status and retrieving old jobs, and Login for obtaining credentials from DesignSafe to access and run jobs on the HPC resources. All communication between the applications and DesignSafe-ci is through the Application Service. This is done to allow the applications to switch to other cloud service providers, possibly allowing applications to run at DesignSafe, on Amazon EC-2, IBM’s Azure or elsewhere.</p>
<div class="align-center figure" id="id5">
<span id="figumlee"></span><img alt="../../../../_images/umlEE.png" src="../../../../_images/umlEE.png" />
<p class="caption"><span class="caption-text">UML Diagram for EU-UQ</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="uml-we-uq">
<span id="lblumlwe"></span><h3>UML WE-UQ<a class="headerlink" href="#uml-we-uq" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Similar in construction to EE-UQ is WE-UQ, as shown in figure <code class="xref std std-numref docutils literal notranslate"><span class="pre">figumlWE</span></code>.  In fact the only difference is that Wind Event Selection is present in the component selection, instead of Earthquake Events. The wind event applications, as will be shown in <code class="xref std std-numref docutils literal notranslate"><span class="pre">figWindEvents</span></code> include stochastic wind models, wind loading from online services such as Vortex-Winds, applications which take online wind tunnel experimental datasets such as those from Tokyo Polytechnic.</p>
</div></blockquote>
<div class="align-center figure" id="id6">
<span id="figumlwe"></span><img alt="../../../../_images/umlWE.png" src="../../../../_images/umlWE.png" />
<p class="caption"><span class="caption-text">UML diagram for WE-UQ.</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="uml-pbe">
<span id="lblumlpbe"></span><h3>UML PBE<a class="headerlink" href="#uml-pbe" title="Permalink to this headline">¶</a></h3>
<p>PBE is a tool for performance based engineering. Given a building and an event it will calculate downtime and loss estimates. As can be sen in <code class="xref std std-numref docutils literal notranslate"><span class="pre">figumlPBE</span></code>,  it adds a LossModelSelection to the component Selections available in EE-UQ. In future it, or another application, will add similar for WE-UQ. The Loss Model applications currently available for selection include a a P58 Loss Model and a HAZUS Loss Model. Depending on selection, different widgets are presented for the user to input the different input arguments needed for the different loss model calculations. Presently the calculations for both loss models are performed by the same python script, CalculateDL.py, in the collection of backend applications.</p>
<div class="align-center figure" id="id7">
<span id="figumlpbe"></span><img alt="../../../../_images/umlPBE.png" src="../../../../_images/umlPBE.png" />
<p class="caption"><span class="caption-text">UML diagram for PBE.</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="uml-earthquakeevents">
<span id="lblumlearthquakeevents"></span><h3>UML EarthquakeEvents<a class="headerlink" href="#uml-earthquakeevents" title="Permalink to this headline">¶</a></h3>
<p>The Earthquake Events package, as shown in <code class="xref std std-numref docutils literal notranslate"><span class="pre">figumlEarthquakeEvents</span></code>, contains an Earthquake Event selector with a number of Earthquake Event selections available. The selections include options that interface with the NGA west server directly and options that will collect inputs for stochastic input models of Vlachos et Al or Dabahi and DerKiuerghian, peer NGA records, site response and our own SimCenterEvent format. Each of these widgets corresponds to one application in the backend, e.g. RockOutcrop corresponds to SiteResponse, and it is this application that will run when the workflow runs.</p>
<div class="align-center figure" id="id8">
<span id="figumlearthquakeevents"></span><img alt="../../../../_images/umlEarthquakeEvents.png" src="../../../../_images/umlEarthquakeEvents.png" />
<p class="caption"><span class="caption-text">UML diagram for earthquake events.</span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="uml-windevents">
<span id="lblumlwindevents"></span><h3>UML WindEvents<a class="headerlink" href="#uml-windevents" title="Permalink to this headline">¶</a></h3>
<p>Similar to the Earthquake Events package, the wind events package shown in <code class="xref std std-numref docutils literal notranslate"><span class="pre">figumlWindEvents</span></code>, contains a WInd Event Selector with a number of Wnd Event selections available. The selections include options for stochastically generated wind events, events that obtain wind loading from the vortex-winds server, options to obtain forces from wind tunnel events, either from the Tokyo Polytechnic University database, or a user supplied file.</p>
<div class="align-center figure" id="id9">
<span id="figumlwindevents"></span><img alt="../../../../_images/umlWindEvents.png" src="../../../../_images/umlWindEvents.png" />
<p class="caption"><span class="caption-text">UML diagram for wind events.</span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="simcentercommon">
<span id="lblsimcentercommon"></span><h3>SimCenterCommon<a class="headerlink" href="#simcentercommon" title="Permalink to this headline">¶</a></h3>
<p>SimCenter common shown in <code class="xref std std-numref docutils literal notranslate"><span class="pre">figUmlCommon</span></code> contains a number of component selections, BIM selection, EDP Selection, SAM Selection, FEM Selection and UQ Engine Selection. Each contains a number of options. The components and their options are all subclasses of the SImCenterAppWidget class, The SImCenterAppWidget has methods to output and input from a JSON object. SimCenterCommon also contains the RandomVariablesContainer class, each object being a container for a number of RandomVariables. Each RansomVariable having a name and a RandomVariable Distribution associated with it. Types of RandomVariableDistributions include for example Normal, Lognormal, Uniform, Beta, and Gumbel.</p>
<div class="align-center figure" id="id10">
<span id="figumlcommon"></span><img alt="../../../../_images/umlCommon.png" src="../../../../_images/umlCommon.png" />
<p class="caption"><span class="caption-text">UML diagram for SimCenter common.</span><a class="headerlink" href="#id10" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="simcenter-backend-applications">
<span id="lblsimcenterbackendapplications"></span><h3>SimCenter Backend Applications<a class="headerlink" href="#simcenter-backend-applications" title="Permalink to this headline">¶</a></h3>
<p>The BackendApplications are currently all in a single package. These are the applications that perform the numerical computations when the workflow runs. Some of these applications rely on external applications, websites, and external packages.  The external applications, web services, and libraries are as shown in <code class="xref std std-numref docutils literal notranslate"><span class="pre">figAppDiagramBackend</span></code>.</p>
<div class="align-center figure" id="id11">
<span id="figappdiagrambackend"></span><img alt="../../../../_images/appDiagramBackend.png" src="../../../../_images/appDiagramBackend.png" />
<p class="caption"><span class="caption-text">Applications for backend applications.</span><a class="headerlink" href="#id11" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, The Regents of the University of California.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-158130480-1', 'auto');
    
    ga('send', 'pageview');
    </script>

    
    

  <style>
         .wy-nav-content { max-width: none; }
  </style>

<script>
    let selectedFilters = [];
    const images  = document.getElementsByClassName("gallery-item");
    const filters = [...document.querySelectorAll('.filter select')];
    const toggles = [...document.querySelectorAll('.filter input')];

    var show = function (elem) {
        elem.style.display = 'block';
    };
    var hide = function (elem) {
        elem.style.display = 'none';
    };
    var toggleFilter =  function(el,elid) {
        const filter = document.getElementById(elid);
        filter.disabled = !el.checked;
       
        if ("createEvent" in document) {
            var evt = document.createEvent("HTMLEvents");
            evt.initEvent("change", false, true);
            filter.dispatchEvent(evt);
        }
        else
            filter.fireEvent("change");
    };
    
    for (const filter of filters) {
        filter.addEventListener('change', function(event) {
            selectedFilters = filters.map(filter => filter.disabled ? '' : filter.value).filter(Boolean);
            console.log(selectedFilters);
            for (const image of images) {
                if (selectedFilters.every(filter => image.classList.contains(filter))) {
                    show(image);
                }
                else {hide(image)};
            };
        })
    };
</script>


</body>
</html>